== Create your first game

LibGDX use https://gradle.org[gradle] as a build system.
LibGDX-addons propose a gradle plugin to take care of all gradle setup, for all platform so you don't have to manage it.

=== Create a simple gradle project

Create your first game by using https://www.jetbrains.com/idea/[IntelliJ].
Click in `File` > `New Project`

image::media/create_game_01.png[]

Pick `Gradle` then tick `Kotlin DSL build script`, choose `Kotlin/JVM` and go to the next screen by clicking `Next`.

image::media/create_game_02.png[]

Fill the information asked and click `Next` until IntelliJ create your project.

Open the file `build.gradle.kts` and paste this configuration into.
It adds necessary repositories for dependencies and add the https://github.com/dwursteisen/libgdx-addons/tree/master/libgdx-gradle-plugin[gradle libgdx plugin].

.build.gradle.kts
[source,kotlin]
----

buildscript {
    dependencies {
        classpath("com.github.dwursteisen.libgdx-addons:libgdx-gradle-plugin:51f3fbe9f4")
    }

    repositories {
        mavenCentral()
        google()
        maven { url = uri("https://oss.sonatype.org/content/repositories/releases/") }
        maven { url = uri("https://oss.sonatype.org/content/repositories/snapshots/") }
        maven { url = uri("https://jitpack.io") }
    }
}

apply(plugin = "libgdx")
----

Run the command `gradlew build`: it will download gradle if needed and download all dependencies and create the minimal setup.
Once done, it might be long depending of your Internet connection, refresh the project in IntelliJ.

The project is now ready. You can run it by using the
https://www.jetbrains.com/help/idea/creating-and-editing-run-debug-configurations.html[Run Configuration] added in IntelliJ

image::media/create_game_03.png[]

NOTE: The first run will crash! Because you need to create your first game class.
See above for more information.

== Create your Game class

Grab an image and copy it into the `assets` directory of the `core` module.
You can find free image / sprite sheet on the https://opengameart.org/content/a-blocky-dungeon[OpenGameArt.org].

Run the command `./gradlew build`, the command will generate a new class `Assets` that will
contains all of your assets name.

NOTE: The use of the `Assets` object is not mandatory. But if your rename one of your assets,
it's practical to have a compilation error instead of your game crashing.

Create your game into the `core` directory and use it in `MainClass.kt`.

.MyGame.kt
[source,kotlin]
----
class MyGame : Game() {

    private lateinit var texture: Texture

    private lateinit var batch: SpriteBatch

    override fun create() {
        texture = Texture(Assets.assets_dungeon_sheet_png)
        batch = SpriteBatch()
    }

    override fun render() {
        batch.begin()
        batch.draw(texture, 0f, 0f)
        batch.end()
    }
}
----

.MainClass.kt
[source,kotlin]
----
LwjglApplication(MyGame(), LwjglApplicationConfiguration().apply {
                width = 600
                height = 600
})
----

If you run your game, the texture will be displayed on the screen.

image::media/create_game_04.png[]
